"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[690],{1165:(e,t,r)=>{r.d(t,{CartProvider:()=>l,_:()=>n});var s=r(5155),a=r(2115),o=r(5536);let i=(0,a.createContext)(void 0);function l(e){let{children:t}=e,[r,l]=(0,a.useState)([]),n=(0,o.h)();(0,a.useEffect)(()=>{let e=localStorage.getItem("cart");if(e)try{l(JSON.parse(e))}catch(e){console.error("Error loading cart from localStorage:",e)}},[]),(0,a.useEffect)(()=>{localStorage.setItem("cart",JSON.stringify(r))},[r]);let c=function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];l(r=>{let s=r.find(t=>t.product.id===e);return s&&t&&n.showSuccess('\uD83D\uDDD1️ "'.concat(s.product.name,'" eliminado del carrito'),2500),r.filter(t=>t.product.id!==e)})};return(0,s.jsx)(i.Provider,{value:{items:r,addItem:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=!(arguments.length>2)||void 0===arguments[2]||arguments[2],s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4?arguments[4]:void 0;l(o=>{let i=o.find(t=>t.product.id===e.id&&t.isEmbroidered===s&&t.embroideryName===a);if(i){let l=i.quantity+t;return l>e.stock?(r&&n.showWarning("⚠️ Solo hay ".concat(e.stock,' unidades disponibles de "').concat(e.name,'"')),o):(r&&n.showSuccess("✅ \xa1".concat(e.name," agregado al carrito! (").concat(l," ").concat(1===l?"unidad":"unidades",")"),4e3),o.map(t=>t.product.id===e.id&&t.isEmbroidered===s&&t.embroideryName===a?{...t,quantity:l}:t))}if(t>e.stock)return r&&n.showWarning("⚠️ Solo hay ".concat(e.stock,' unidades disponibles de "').concat(e.name,'"')),o;if(r){let r=1===t?"✅ \xa1".concat(e.name," agregado al carrito! \uD83D\uDED2"):"✅ \xa1".concat(t," unidades de ").concat(e.name," agregadas al carrito! \uD83D\uDED2");n.showSuccess(r,4e3)}return[...o,{product:e,quantity:t,isEmbroidered:s,embroideryName:a}]})},removeItem:c,updateQuantity:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t<=0)return void c(e,r);l(s=>{let a=s.find(t=>t.product.id===e);return a&&t>a.product.stock?(r&&n.showWarning("⚠️ Solo hay ".concat(a.product.stock,' unidades disponibles de "').concat(a.product.name,'"')),s):(a&&r&&t!==a.quantity&&n.showSuccess("\uD83D\uDCE6 Cantidad actualizada: ".concat(t," ").concat(1===t?"unidad":"unidades"),2e3),s.map(r=>r.product.id===e?{...r,quantity:t}:r))})},clearCart:function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];l([]),localStorage.removeItem("cart"),e&&n.showSuccess("\uD83D\uDDD1️ Carrito vaciado",2500)},getTotal:()=>r.reduce((e,t)=>{let r=t.product.price*t.quantity;return t.isEmbroidered&&t.product.canBeEmbroidered&&t.product.embroideryPrice&&(r+=t.product.embroideryPrice*t.quantity),e+r},0),getItemCount:()=>r.reduce((e,t)=>e+t.quantity,0)},children:t})}function n(){let e=(0,a.useContext)(i);if(void 0===e)throw Error("useCart must be used within a CartProvider");return e}},1171:(e,t,r)=>{r.d(t,{D:()=>o});var s=r(5155);let a={1:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold",2:"text-xl sm:text-2xl md:text-3xl lg:text-4xl font-bold",3:"text-lg sm:text-xl md:text-2xl lg:text-3xl font-semibold",4:"text-base sm:text-lg md:text-xl font-semibold",5:"text-sm sm:text-base md:text-lg font-semibold",6:"text-sm sm:text-base font-semibold"},o=e=>{let{level:t,children:r,className:o=""}=e,i=a[t],l="".concat(i," text-gray-900 ").concat(o);switch(t){case 1:default:return(0,s.jsx)("h1",{className:l,children:r});case 2:return(0,s.jsx)("h2",{className:l,children:r});case 3:return(0,s.jsx)("h3",{className:l,children:r});case 4:return(0,s.jsx)("h4",{className:l,children:r});case 5:return(0,s.jsx)("h5",{className:l,children:r});case 6:return(0,s.jsx)("h6",{className:l,children:r})}}},3405:(e,t,r)=>{r.d(t,{Z:()=>a});var s=r(5155);let a=e=>{let{children:t,className:r="",onClick:a}=e;return(0,s.jsx)("div",{className:"bg-white rounded-2xl shadow-soft hover:shadow-medium transition-all duration-300 ".concat(a?"cursor-pointer":""," ").concat(r),onClick:a,children:t})}},3779:(e,t,r)=>{r.d(t,{CustomerProvider:()=>i,c:()=>l});var s=r(5155),a=r(2115);let o=(0,a.createContext)(void 0);function i(e){let{children:t}=e,[i,l]=(0,a.useState)(null),[n,c]=(0,a.useState)(!0),d=(0,a.useCallback)(async()=>{if(!localStorage.getItem("customer_token"))return void l(null);try{let{customersApi:e}=await r.e(621).then(r.bind(r,7621)),t=await e.getProfile();l(t),localStorage.setItem("customer",JSON.stringify(t))}catch(e){console.error("Error verifying auth:",e),localStorage.removeItem("customer_token"),localStorage.removeItem("customer"),l(null)}},[]);return(0,a.useEffect)(()=>{try{let e=localStorage.getItem("customer"),t=localStorage.getItem("customer_token");if(e&&t)try{let t=JSON.parse(e);l(t),d().catch(()=>{})}catch(e){console.error("Error loading customer from localStorage:",e),localStorage.removeItem("customer"),localStorage.removeItem("customer_token"),l(null)}}finally{c(!1)}},[d]),(0,s.jsx)(o.Provider,{value:{customer:i,isAuthenticated:!!i,isLoading:n,login:(e,t)=>{localStorage.setItem("customer_token",e),localStorage.setItem("customer",JSON.stringify(t)),l(t)},logout:()=>{localStorage.removeItem("customer_token"),localStorage.removeItem("customer"),l(null)},updateCustomer:e=>{localStorage.setItem("customer",JSON.stringify(e)),l(e)},checkAuth:d},children:t})}function l(){let e=(0,a.useContext)(o);if(void 0===e)throw Error("useCustomer must be used within a CustomerProvider");return e}},5536:(e,t,r)=>{r.d(t,{NotificationProvider:()=>h,h:()=>u});var s=r(5155),a=r(2115),o=r(7816),i=r(1016),l=r(9582),n=r(3327),c=r(5229);let d={success:{bg:"bg-green-50 border-green-200",text:"text-green-800",icon:o.A,iconColor:"text-green-600"},error:{bg:"bg-red-50 border-red-200",text:"text-red-800",icon:i.A,iconColor:"text-red-600"},warning:{bg:"bg-yellow-50 border-yellow-200",text:"text-yellow-800",icon:l.A,iconColor:"text-yellow-600"},info:{bg:"bg-blue-50 border-blue-200",text:"text-blue-800",icon:n.A,iconColor:"text-blue-600"}},m=e=>{let{message:t,type:r,onClose:o}=e,[i,l]=(0,a.useState)(!1),[n,m]=(0,a.useState)(!1),x=d[r],h=x.icon;return(0,a.useEffect)(()=>(setTimeout(()=>l(!0),10),()=>{m(!0)}),[]),(0,s.jsxs)("div",{className:"\n        pointer-events-auto\n        transform transition-all duration-500 ease-out\n        ".concat(i&&!n?"translate-x-0 opacity-100 scale-100":"translate-x-full opacity-0 scale-95","\n        ").concat(x.bg," border-2 ").concat(x.bg.includes("green")?"border-green-300":x.bg.includes("red")?"border-red-300":x.bg.includes("yellow")?"border-yellow-300":"border-blue-300"," rounded-xl shadow-2xl p-4 sm:p-5\n        flex items-center gap-3 sm:gap-4\n        w-full\n        backdrop-blur-sm\n        animate-slide-in-right\n      "),role:"alert",children:[(0,s.jsx)("div",{className:"flex-shrink-0 ".concat(x.iconColor," animate-bounce-subtle"),children:(0,s.jsx)(h,{className:"w-6 h-6 sm:w-7 sm:h-7"})}),(0,s.jsx)("div",{className:"flex-1 min-w-0",children:(0,s.jsx)("p",{className:"text-sm sm:text-base font-semibold ".concat(x.text," leading-relaxed"),children:t})}),(0,s.jsx)("button",{onClick:()=>{m(!0),setTimeout(()=>{o()},300)},className:"flex-shrink-0 ".concat(x.text," hover:opacity-70 transition-opacity p-1 rounded-full hover:bg-black/5"),"aria-label":"Cerrar notificaci\xf3n",children:(0,s.jsx)(c.A,{className:"w-5 h-5"})})]})},x=(0,a.createContext)(void 0);function h(e){let{children:t}=e,[r,o]=(0,a.useState)([]),i=(0,a.useCallback)(e=>{o(t=>t.filter(t=>t.id!==e))},[]),l=(0,a.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4e3,s=Math.random().toString(36).substring(7),a={id:s,message:e,type:t,duration:r};o(e=>[...e,a]),r>0&&setTimeout(()=>{i(s)},r)},[i]),n=(0,a.useCallback)((e,t)=>{l(e,"success",t)},[l]),c=(0,a.useCallback)((e,t)=>{l(e,"error",t)},[l]),d=(0,a.useCallback)((e,t)=>{l(e,"warning",t)},[l]),h=(0,a.useCallback)((e,t)=>{l(e,"info",t)},[l]);return(0,s.jsxs)(x.Provider,{value:{showToast:l,showSuccess:n,showError:c,showWarning:d,showInfo:h},children:[t,(0,s.jsx)("div",{className:"fixed top-4 left-4 right-4 sm:left-auto sm:right-4 z-[9999] flex flex-col gap-2 max-w-sm sm:max-w-md pointer-events-none mx-auto sm:mx-0",children:r.map(e=>(0,s.jsx)(m,{message:e.message,type:e.type,onClose:()=>i(e.id)},e.id))})]})}function u(){let e=(0,a.useContext)(x);if(void 0===e)throw Error("useNotification must be used within a NotificationProvider");return e}},6900:(e,t,r)=>{r.d(t,{U:()=>C});var s=r(5155),a=r(2115),o=r(2619),i=r.n(o),l=r(508),n=r(4926),c=r(5229),d=r(9540),m=r(7919),x=r(63);let h=e=>{let{href:t,children:r,className:a=""}=e,o=(0,x.usePathname)()===t;return(0,s.jsx)(i(),{href:t,className:"px-3 py-2 rounded-lg text-sm sm:text-base font-medium transition-colors ".concat(o?"bg-primary-100 text-primary-700":"text-gray-700 hover:bg-gray-100 hover:text-primary-600"," ").concat(a),children:r})};var u=r(512),g=r(1165);let p=()=>{let{getItemCount:e}=(0,g._)(),t=e();return(0,s.jsxs)(i(),{href:"/cart",className:"relative flex items-center justify-center p-2 text-gray-700 hover:text-primary-600 transition-colors",children:[(0,s.jsx)(u.A,{className:"w-6 h-6"}),t>0&&(0,s.jsx)("span",{className:"absolute -top-1 -right-1 bg-primary-600 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:t>9?"9+":t})]})};var f=r(3779);let b=()=>{let[e,t]=(0,a.useState)(!1),[r,o]=(0,a.useState)(!1),{customer:x,isAuthenticated:u,logout:g}=(0,f.c)();return(0,a.useEffect)(()=>{let e=()=>{o(window.scrollY>10)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),(0,s.jsx)("header",{className:"sticky top-0 z-50 transition-all duration-300 ".concat(r?"bg-white/95 backdrop-blur-md shadow-medium":"bg-white shadow-soft"),suppressHydrationWarning:!0,children:(0,s.jsxs)("div",{className:"container mx-auto px-4 sm:px-6",suppressHydrationWarning:!0,children:[(0,s.jsxs)("div",{className:"flex items-center justify-between h-14 sm:h-16 md:h-20",suppressHydrationWarning:!0,children:[(0,s.jsxs)(i(),{href:"/",className:"flex items-center gap-2 text-base sm:text-lg md:text-xl font-bold text-primary-700 hover:text-primary-800 transition-colors",children:[(0,s.jsx)("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg bg-gradient-to-br from-primary-600 to-primary-700 flex items-center justify-center text-white font-bold text-sm sm:text-base",children:"X"}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"Xicam"}),(0,s.jsx)("span",{className:"sm:hidden",children:"Xicam"})]}),(0,s.jsxs)("div",{className:"hidden lg:flex items-center gap-4",suppressHydrationWarning:!0,children:[(0,s.jsxs)("nav",{className:"flex items-center gap-1",suppressHydrationWarning:!0,children:[(0,s.jsx)(h,{href:"/",children:"Inicio"}),(0,s.jsx)(h,{href:"/productos",children:"Productos"}),(0,s.jsx)(h,{href:"/categorias",children:"Categor\xedas"})]}),(0,s.jsx)(p,{}),u?(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)(i(),{href:"/mi-cuenta",className:"flex items-center gap-2 px-3 py-2 text-sm text-gray-700 hover:text-primary-600 transition-colors",children:[(0,s.jsx)(l.A,{className:"w-4 h-4"}),(0,s.jsx)("span",{className:"hidden xl:inline",children:null==x?void 0:x.fullName})]}),(0,s.jsxs)("button",{onClick:g,className:"flex items-center gap-2 px-3 py-2 text-sm text-gray-700 hover:text-red-600 transition-colors",children:[(0,s.jsx)(n.A,{className:"w-4 h-4"}),(0,s.jsx)("span",{className:"hidden xl:inline",children:"Salir"})]})]}):(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(i(),{href:"/login",children:(0,s.jsx)(m.$,{variant:"ghost",size:"sm",children:"Iniciar sesi\xf3n"})}),(0,s.jsx)(i(),{href:"/register",children:(0,s.jsx)(m.$,{size:"sm",children:"Registrarse"})})]})]}),(0,s.jsxs)("div",{className:"lg:hidden flex items-center gap-2",children:[(0,s.jsx)(p,{}),(0,s.jsx)("button",{className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",onClick:()=>t(!e),"aria-label":"Toggle menu",children:e?(0,s.jsx)(c.A,{className:"w-6 h-6"}):(0,s.jsx)(d.A,{className:"w-6 h-6"})})]})]}),(0,s.jsx)("div",{className:"lg:hidden overflow-hidden transition-all duration-300 ".concat(e?"max-h-96 opacity-100":"max-h-0 opacity-0"),suppressHydrationWarning:!0,children:(0,s.jsx)("nav",{className:"py-4 border-t border-gray-200",suppressHydrationWarning:!0,children:(0,s.jsxs)("div",{className:"flex flex-col gap-1",suppressHydrationWarning:!0,children:[(0,s.jsx)(h,{href:"/",className:"block py-2 px-3 rounded-lg",children:"Inicio"}),(0,s.jsx)(h,{href:"/productos",className:"block py-2 px-3 rounded-lg",children:"Productos"}),(0,s.jsx)(h,{href:"/categorias",className:"block py-2 px-3 rounded-lg",children:"Categor\xedas"}),u?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i(),{href:"/mi-cuenta",className:"block py-2 px-3 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(l.A,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:"Mi cuenta"})]})}),(0,s.jsx)("button",{onClick:g,className:"block py-2 px-3 rounded-lg text-gray-700 hover:bg-red-50 hover:text-red-600 transition-colors text-left w-full",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(n.A,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:"Cerrar sesi\xf3n"})]})})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i(),{href:"/login",className:"block py-2 px-3 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors",children:"Iniciar sesi\xf3n"}),(0,s.jsx)(i(),{href:"/register",className:"block py-2 px-3 rounded-lg bg-primary-600 text-white hover:bg-primary-700 transition-colors text-center",children:"Registrarse"})]})]})})})]})})};var y=r(1873),j=r(3664),v=r(9141),N=r(8902);let w=()=>(0,s.jsx)("footer",{className:"bg-gray-900 text-white py-8 sm:py-12",children:(0,s.jsxs)("div",{className:"container mx-auto px-4 sm:px-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8 mb-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-primary-600 to-primary-700 flex items-center justify-center text-white font-bold",children:"X"}),(0,s.jsx)("span",{className:"text-lg font-bold",children:"Xicam"})]}),(0,s.jsx)(N.E,{className:"text-gray-400 text-sm",children:"Uniformes escolares para Pacific School. Calidad, estilo y personalizaci\xf3n con bordado de nombres."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold mb-4",children:"Enlaces"}),(0,s.jsxs)("ul",{className:"space-y-2 text-sm",children:[(0,s.jsx)("li",{children:(0,s.jsx)(i(),{href:"/productos",className:"text-gray-400 hover:text-white transition-colors",children:"Productos"})}),(0,s.jsx)("li",{children:(0,s.jsx)(i(),{href:"/categorias",className:"text-gray-400 hover:text-white transition-colors",children:"Categor\xedas"})})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold mb-4",children:"Informaci\xf3n"}),(0,s.jsxs)("ul",{className:"space-y-2 text-sm text-gray-400",children:[(0,s.jsxs)("li",{className:"flex items-center gap-2",children:[(0,s.jsx)(y.A,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:"Chile"})]}),(0,s.jsxs)("li",{className:"flex items-center gap-2",children:[(0,s.jsx)(j.A,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:"contacto@xicam.com"})]}),(0,s.jsxs)("li",{className:"flex items-center gap-2",children:[(0,s.jsx)(v.A,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:"+56 9 1234 5678"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold mb-4",children:"Caracter\xedsticas"}),(0,s.jsxs)("ul",{className:"space-y-2 text-sm text-gray-400",children:[(0,s.jsx)("li",{children:"\uD83D\uDC54 Uniformes Escolares"}),(0,s.jsx)("li",{children:"✨ Bordado de Nombres"}),(0,s.jsx)("li",{children:"\uD83D\uDCE6 Env\xedo a Todo Chile"})]})]})]}),(0,s.jsx)("div",{className:"border-t border-gray-800 pt-6 text-center text-sm text-gray-400",children:(0,s.jsxs)("p",{children:["\xa9 ",new Date().getFullYear()," Xicam - Uniformes Escolares. Todos los derechos reservados."]})})]})}),C=e=>{let{children:t}=e;return(0,s.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,s.jsx)(b,{}),(0,s.jsx)("main",{className:"flex-grow",children:t}),(0,s.jsx)(w,{})]})}},7919:(e,t,r)=>{r.d(t,{$:()=>a});var s=r(5155);let a=e=>{let{variant:t="primary",size:r="md",children:a,className:o="",...i}=e;return(0,s.jsx)("button",{className:"".concat("font-semibold rounded-xl transition-all duration-300 active:scale-95 flex items-center justify-center gap-2"," ").concat({primary:"bg-gradient-to-r from-primary-600 to-primary-700 text-white hover:from-primary-700 hover:to-primary-800 shadow-medium hover:shadow-large active:bg-primary-800",secondary:"bg-white text-primary-700 hover:bg-gray-50 shadow-soft hover:shadow-medium active:bg-gray-100 border border-gray-200",outline:"border-2 border-primary-600 text-primary-700 hover:bg-primary-50 hover:border-primary-700 active:bg-primary-100",ghost:"text-primary-700 hover:bg-primary-50 active:bg-primary-100"}[t]," ").concat({sm:"px-3 py-2 text-sm",md:"px-4 py-2.5 text-sm sm:text-base",lg:"px-6 py-3 text-base sm:text-lg"}[r]," ").concat(o),...i,children:a})}},8902:(e,t,r)=>{r.d(t,{E:()=>a});var s=r(5155);let a=e=>{let{children:t,className:r="",as:a="p"}=e;return(0,s.jsx)(a,{className:"text-gray-700 ".concat(r),children:t})}}}]);